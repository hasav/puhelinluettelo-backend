{"version":3,"sources":["services/numbers.js","App.js","index.js"],"names":["baseUrl","numbers","axios","get","then","response","data","newObject","post","id","delete","concat","put","Person","_ref","name","number","delFunction","react_default","a","createElement","onClick","Filter","_ref2","newFilter","setNewFilter","value","onChange","event","target","toLowerCase","PersonForm","_ref3","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setMessage","setColor","onSubmit","preventDefault","personObject","some","person","window","alert","idOfPerson","find","p","numberService","returnedPerson","map","setTimeout","catch","error","errormessage","console","log","Notification","style","type","_ref4","message","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Rows","_ref5","App_Person","key","confirm","filter","n","delFunctionOf","filtered","includes","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","useEffect","initialNumbers","App_Notification","App_Filter","App_PersonForm","App_Rows","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c153afd1.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, deleteObject, update }","\nimport React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport numberService from './services/numbers'\n\nconst Person = ({ name, number, delFunction }) => {\n  return (\n    <div>\n    {name} {number}\n    <button onClick={delFunction}>delete</button>\n    </div>\n  )\n}\n\n\nconst Filter = ( {newFilter, setNewFilter} ) => {\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value.toLowerCase())\n  }\n  return (\n    <form>\n        <div>\n          filter shown with\n          <input\n          value={newFilter}\n          onChange={handleFilterChange}\n          />\n        </div>\n      </form>\n  )\n}\n\nconst delFunctionOf = (id, persons, setPersons, setMessage) => {\n  const person = (persons.find(p=> p.id === id))\n  const result = window.confirm(\n    `Delete '${person.name}'?`\n  )\n  if (result) {\n    numberService\n    .deleteObject(id)\n    .then(response => {\n      setPersons(persons.filter(n => n.id !== id))\n      setMessage(`Deleted ${person.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n    })\n  }\n}\n\nconst PersonForm = ( {newName, setNewName, newNumber, setNewNumber, persons, setPersons, setMessage, setColor} ) => {\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  } \n  const addEntry = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(person => person.name === newName && newNumber === \"\") ) {\n      window.alert(`${newName} is already added to phonebook`)\n    }\n    else if (persons.some(person => person.name === newName) ) {\n      const person = (persons.find(p=> p.name === newName))\n      const idOfPerson = person.id\n      numberService\n        .update(idOfPerson, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== idOfPerson ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setColor('green')\n          setMessage(`Changed number to ${returnedPerson.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n    }\n    else {\n      numberService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setColor('green')\n          setMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n        .catch(error => {\n          const errormessage = error.response.data.error\n          console.log(Notification.style)\n          setColor('red')\n          setMessage(errormessage)\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n    }\n\n  }\n  return (\n    <form onSubmit={addEntry}>\n        <div>\n          name: \n          <input \n          value={newName}\n          onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n          value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n\n}\n\nconst Notification = ({ message, color }) => {\n  var style = {\n    color: color,\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message === null || message === '') {\n    return null\n  }\n\n  return (\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\nconst Rows = ( {newFilter, persons, setPersons, setMessage} ) => {\n  if (newFilter === '') {\n    return (\n      persons.map(person =>\n        <Person\n        key={person.name}\n        name={person.name}\n        number={person.number}\n        delFunction={() => delFunctionOf(person.id, persons, setPersons, setMessage)}\n        />)\n    )\n  }\n  else {\n    console.log(newFilter)\n    let filtered = persons.filter(person => person.name.toLowerCase().includes(newFilter))\n    console.log(filtered)\n    return (\n      filtered.map(person =>\n        <Person \n        key={person.name}\n        name={person.name}\n        number={person.number}\n        />)\n    )\n  }\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ color, setColor ] = useState('green')\n\n  useEffect(() => {\n    numberService\n      .getAll('http://localhost:3001/persons')\n      .then(initialNumbers => {\n        setPersons(initialNumbers)\n      })\n  }, [])\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} color={color}/>\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\n      <div>\n        <h2>add a new</h2>\n      </div>\n      <PersonForm newName={newName} setNewName={setNewName} \n      newNumber={newNumber} setNewNumber={setNewNumber}\n      persons={persons} setPersons={setPersons} setMessage={setMessage}\n      setColor={setColor}/>\n      <h2>Numbers</h2>\n      <ul>\n        <Rows newFilter={newFilter} persons={persons} setPersons={setPersons} setMessage={setMessage}/>\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}